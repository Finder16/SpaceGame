# https://github.com/qwerty-po/kernel_exploit_modules

# define complier type
CC = gcc
# compile options setting
CFLAGS = -O2 -static
# library link & option setting

msg_msg.o: msg_msg.c
	$(CC) $(CFLAGS) -c $^

helper.o: helper.c
	$(CC) $(CFLAGS) -c $^

xattr.o: xattr.c
	$(CC) $(CFLAGS) -c $^

LDFLAGS = -lkeyutils
keyring.o: keyring.c
	$(CC) $(CFLAGS) $(LDFLAGS) -c $^

pipe.o: pipe.c
	$(CC) $(CFLAGS) -c $^

cred.o: cred.c
	$(CC) -c -o cred.o cred.c $(FLAGS)

io_uring.o: io_uring.c
	$(CC) -c -o io_uring.o io_uring.c $(FLAGS)
	

all: msg_msg.o helper.o xattr.o keyring.o pipe.o cred.o io_uring.o

clean:
	rm -f *.o