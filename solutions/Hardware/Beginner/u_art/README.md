# u art?

# Usage
docker-compose up -d 

# Concept
- [Hardware] 멀티미터를 활용한 TX/RX 핀 식별 및 baud ratr 값 분석

# Writeup
prob 바이너리는 제공되지 않고, 서버 주소와 uart 신호 파형만 제공된다.

서버에 접속하면, 총 7가지의 메뉴를 확인할 수 있다. 

```
================================
             M E N U            
================================
1. UART Interface 선택
2. Multimeter Mode(DCV) 선택
3. 리드선 연결
4. Multimeter 확인
5. Baudrate 값 입력
6. Check UART
7. Exit
================================
``` 

멀티미터의 기능이 구현되어있고, Baudrate 값을 요구하는 것을 알 수 있다.
멀티미터로 UART 핀의 전압을 측정하여 핀을 식별할 수 있다.
Baudrate 값은 제공된 신호 파형을 통해 분석할 수 있다.

---

```
UART의 핀	역할
-------------------------------
GND	| 메인 보드의 기준 전압을 맞춰주는 핀
TX	| 시리얼 데이터를 송신하는 핀
RX	| 시리얼 데이터를 수신하는 핀
VCC	| 전원을 공급하는 핀
```
UART의 각 핀의 역할은 위와 같으며, 각 역할에 따라 측정되는 전압 값이 다르다. 

일반적으로 전압이 2.4V ~ 3.3V 사이에서 지속적으로 변한다면 TX 핀, 전압이 0.0V이면 RX 핀이다. TX 핀은 다양한 데이터를 송신하기 때문에 2.4V ~ 3.3V 사이에서 전압이 지속적으로 변한다. RX 핀은 송신 행위 없이 데이터를 수신하는 역할만 수행하기 때문에 0.0V의 전압을 띈다.

이를 기반으로 각 핀의 전압을 측정하여 문제를 풀이해보자.

---

1. UART Interface 선택 
-> 1번 UART Interface를 선택한다. 

2. Multimeter Mode(DCV) 선택
- dcv 선택 
Multimeter는 다양한 모드를 지원하지만, 해당 문제에서는 dcv 모드를 사용한다. 

3. 리드선 연결
- Multimeter에 연결되어있는 검정(-), 빨강(+) 리드선을 주어진 6개의 pin 중 한 곳에 연결하여 전압을 측정한다.

4. Multimeter 확인
- 리드선을 연결하고, 측정된 전압을 볼 수 있는 기능이다. 
해당 번호의 기능을 여러 번 실행하면 전압 값이  2.4V ~ 3.3V 사이에서 지속적으로 변하는 것이 있다. 이렇게 측정을 반복하여 pin을 식별할 수 있다.

문제 설명에서 pin6은 gnd라고 언급되어있다. 
gnd를 알았다면 pin 식별은 수월하게 진행할 수 있다. 

검정(-) 리드선에 gnd를 연결하고, 식별하고자 하는 pin을 빨강(+) 리드선에 연결한다.
식별하고자 하는 5개의 pin을 연결하고, 측정 값을 확인하는 과정을 반복하면 TX/RX 핀을 식별할 수 있다.

**pin6 : gnd, pin1 : ? -> 2.4v ~ 3.3v**
pin6 : gnd, pin2 : ? -> 0v
pin6 : gnd, pin3 : ? -> 3.3v 
pin6 : gnd, pin4 : ? -> 0v
pin6 : gnd, pin5 : ? -> 3.3v

모든 과정을 반복했을 때, 위와 같은 전압이 측정되었다.
이 중에서 전압이 지속적으로 값이 바뀌는 pin은 TX이고, pin1에 해당한다.
(전압이 지속적으로 2.4v~3.3v 범위 내에서 변하는 것은 TX이다.)

gnd와 vcc가 연결되면 vcc의 전압이 고정적으로 측정된다. 
pin3과 pin5를 연결했을 때 3.3v가 고정적으로 출력되었기에 vcc 핀으로 유추할 수 있다.
pin 4개를 식별했다.

```
pin1=TX
pin2=?
pin3=VCC
pin4=?
pin5=VCC
pin6=gnd

```

RX는 전압이 측정되지 않기에, 0v가 측정되어야 한다. 다만 위 결과에서 0v가 2개의 pin과의 연결에서 측정되었다. 

3.3v가 고정적으로 측정된 핀과 다른 0v가 고정적으로 측정된 핀을 연결하여 전압 값을 확인한다.
pin3 : vcc, pin2 : ? -> 0v
pin2 : ?, pin3 : vcc -> 0v
pin3 : vcc, pin4 : ? -> 0v
pin4 : ?, pin3 : vcc -> 3.3v
pin5 : vcc, pin3 : ? -> 0v

pin4를 검정(-)리드선에 연결하고, pin3을 빨강(+)리드선에 연결했을 때 3.3v가 고정적으로 측정되었다. 
pin4를 gnd로 유추하고, 다른 핀들과 연결하여 전압을 측정해보면 pin6과 동일한 전압을 측정하는 것을 알 수 있다.
pin4는 gnd의 역할을 한다.

```
pin1=TX
pin2=RX
pin3=VCC
pin4=GND
pin5=VCC
pin6=GND

```
6개의 pin을 위와 같이 식별할 수 있었다.

- TX/RX 핀 식별
= TX : 1
= RX : 2 

5. 파형 분석 후 Baudrate 값 입력
로직 분석기로 제공된 파형을 열어 신호를 분석한다.
전송 속도를 계산하여 Baudrate 값을 측정할 수 있다.

'baudrate(=bps) | Bps=(µs / 1 bit)×(1000000µs/1s)'

첫 신호를 확대하여 전송 속도를 확인한다. 

high 신호 간격이 11.744us인 것을 알 수 있다. 

(11.744µs / 1 bit) × ( 1000000µs / 1second)
→ 11.744 / 1,000,000 ≈ **85,187.7934 bits/second**
→ baudrate = 57600 or 115200 로 유추가 가능하다.


6. 알아낸 TX/RX & Baud rate 검증(입력) 
TX : 1, RX : 2, Baudrate : 57600 을 맞게 입력하면 부팅 로그가 출력되고, 하단에 플래그가 출력된다.
값을 맞추지 못하면 깨진 글자가 출력된다. 

