
command = open('./input','rb').read()
pc = 0
reg = [0,0,0,0,0,0,0,0,0,0]
stack = b''
top = 0

while pc < len(command):
    
    opcode = command[pc]

    if opcode == 0x20:
        reg[command[pc+1]] = command[pc+2]
        pc += 2
    elif opcode == 0x30:
        reg[command[pc+1]] += command[pc+2]
        pc += 2
    elif opcode == 0x40:
        reg[command[pc+1]] -= command[pc+2]
        pc += 2
    elif opcode == 0x50:
        reg[command[pc+1]] *= command[pc+2]
        pc += 2
    elif opcode == 0x60:
        reg[command[pc+1]] //= command[pc+2]
        pc += 2
    elif opcode == 0x70:
        reg[command[pc+1]] ^= command[pc+2]
        pc += 2
    elif opcode == 0x80:
        reg[command[pc+1]] &= command[pc+2]
        pc += 2
    elif opcode == 0x90:
        reg[command[pc+1]] |= command[pc+2]
        pc += 2
    elif opcode == 0xa0:
        stack += bytes([reg[command[pc+1]]])
        top += 1
        pc += 1
    elif opcode == 0xb0:
        top -= 1
        reg[command[pc+1]] = ord(stack[top])
        pc += 1
    pc += 1

print('flag : ',stack)

